<!DOCTYPE html>
<html>

<head>
  <title>NZ Earthquake History - TB</title>
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.9.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.9.0/mapbox-gl.css' rel='stylesheet' />
  <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
  <link rel='stylesheet' href='style.css' />
</head>

<body>
  <div id='map'></div>
  <div id='controls'>
    <label class="title-label">NZ Earthquake History - TB</label>
    <canvas id='timeline-chart' style='width: 100%; height: 250px;'></canvas>
    <label for='year-slider'>Year: <span id='year-display'>2025</span></label>
    <input type='range' id='year-slider' min='1900' max='2025' value='2025'>
    <label>
      <input type="checkbox" id="year-mode-toggle" />
      Only Selected Year
    </label>
    <div class="filters-container">
      <div class="filter-group">
        <label for='mag-filter'>Magnitude:</label>
        <select id='mag-filter'>
          <option value="all">All</option>
          <option value="3-4">3.0–3.9</option>
          <option value="4-5">4.0–4.9</option>
          <option value="5-6">5.0–5.9</option>
          <option value="6-7">6.0–6.9</option>
          <option value="7-8">7.0–7.9</option>
          <option value="8+">8.0+</option>
        </select>
      </div>
      <div class="filter-group">
        <label for='depth-filter'>Depth (km):</label>
        <select id='depth-filter'>
          <option value='all'>All</option>
          <option value='0-15'>0–15</option>
          <option value='15-40'>15–40</option>
          <option value='40-100'>40–100</option>
          <option value='100-200'>100–200</option>
          <option value='200+'>200+</option>
        </select>
      </div>
      <div class="filter-group">
        <label for='region-filter'>Region:</label>
        <select id='region-filter'>
          <option value='all'>All</option>
          <option value='Northland'>Northland</option>
          <option value='Auckland'>Auckland</option>
          <option value='Waikato'>Waikato</option>
          <option value='Bay of Plenty'>Bay of Plenty</option>
          <option value='Gisborne'>Gisborne</option>
          <option value='Hawkes Bay'>Hawke's Bay</option>
          <option value='Taranaki'>Taranaki</option>
          <option value='Manawatu-Whanganui'>Manawatu-Whanganui</option>
          <option value='Wellington'>Wellington</option>
          <option value='Tasman'>Tasman</option>
          <option value='Nelson'>Nelson</option>
          <option value='Marlborough'>Marlborough</option>
          <option value='West Coast'>West Coast</option>
          <option value='Canterbury'>Canterbury</option>
          <option value='Otago'>Otago</option>
          <option value='Southland'>Southland</option>
        </select>
      </div>
    </div>
    <label>
      <input type="checkbox" id="toggle-major-quakes">
      Only Major Earthquakes (>=7)
    </label>
    <label>
      <input type="checkbox" id="toggle-pulse" unchecked>
      Pulse Animation
    </label>
    <button id='reset'>Reset Filters</button>
    <div class="legend-container">
      <!-- Magnitude legend -->
      <div class="legend-section">
        <strong>Magnitude</strong>
        <div class="legend-item">
          <div class="legend-circle" style="width: 28px; height: 28px;"></div>
          <div class="legend-label">8.0+</div>
        </div>
        <div class="legend-item">
          <div class="legend-circle" style="width: 24px; height: 24px;"></div>
          <div class="legend-label">7.0–7.9</div>
        </div>
        <div class="legend-item">
          <div class="legend-circle" style="width: 20px; height: 20px;"></div>
          <div class="legend-label">6.0–6.9</div>
        </div>
        <div class="legend-item">
          <div class="legend-circle" style="width: 16px; height: 16px;"></div>
          <div class="legend-label">5.0–5.9</div>
        </div>
        <div class="legend-item">
          <div class="legend-circle" style="width: 12px; height: 12px;"></div>
          <div class="legend-label">4.0–4.9</div>
        </div>
        <div class="legend-item">
          <div class="legend-circle" style="width: 8px; height: 8px;"></div>
          <div class="legend-label">3.0–3.9</div>
        </div>
        <div class="legend-item">
          <div class="legend-circle" style="width: 6px; height: 6px;"></div>
          <div class="legend-label">0.0–3.0</div>
        </div>
      </div>

      <!-- Depth legend -->
      <div class="legend-section">
        <strong>Depth</strong>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #00ffcc;"></div>
          <div class="legend-label">0–15 km</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #00e6b8;"></div>
          <div class="legend-label">15–40 km</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #00cca3;"></div>
          <div class="legend-label">40–100 km</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #00b38f;"></div>
          <div class="legend-label">100–200 km</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #00997a;"></div>
          <div class="legend-label">200+ km</div>
        </div>
      </div>

      <!-- Major Earthquakes legend -->
      <div class="legend-section">
        <strong>Major Earthquakes</strong>
        <div class="legend-item">
          <div class="major-legend-circle" style="width: 28px; height: 28px;"></div>
        </div>
      </div>
    </div>
  </div>
  <script src='script.js'></script>
</body>

</html>